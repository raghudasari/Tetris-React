import { TetrominoType } from "./types";

// Tetromino shapes (4x4 grids for consistent rotation)
export const TETROMINOES: Record<TetrominoType, number[][][]> = {
  // I piece (cyan)
  1: [
    [
      [0, 0, 0, 0],
      [1, 1, 1, 1],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 1, 0],
      [0, 0, 1, 0],
      [0, 0, 1, 0],
      [0, 0, 1, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [1, 1, 1, 1],
      [0, 0, 0, 0],
    ],
    [
      [0, 1, 0, 0],
      [0, 1, 0, 0],
      [0, 1, 0, 0],
      [0, 1, 0, 0],
    ],
  ],
  // O piece (yellow)
  2: [
    [
      [0, 0, 0, 0],
      [0, 2, 2, 0],
      [0, 2, 2, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 2, 2, 0],
      [0, 2, 2, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 2, 2, 0],
      [0, 2, 2, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 2, 2, 0],
      [0, 2, 2, 0],
      [0, 0, 0, 0],
    ],
  ],
  // T piece (purple)
  3: [
    [
      [0, 0, 0, 0],
      [0, 3, 0, 0],
      [3, 3, 3, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 3, 0, 0],
      [0, 3, 3, 0],
      [0, 3, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [3, 3, 3, 0],
      [0, 3, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 3, 0, 0],
      [3, 3, 0, 0],
      [0, 3, 0, 0],
    ],
  ],
  // S piece (green)
  4: [
    [
      [0, 0, 0, 0],
      [0, 4, 4, 0],
      [4, 4, 0, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 4, 0, 0],
      [0, 4, 4, 0],
      [0, 0, 4, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [0, 4, 4, 0],
      [4, 4, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [4, 0, 0, 0],
      [4, 4, 0, 0],
      [0, 4, 0, 0],
    ],
  ],
  // Z piece (red)
  5: [
    [
      [0, 0, 0, 0],
      [5, 5, 0, 0],
      [0, 5, 5, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 5, 0],
      [0, 5, 5, 0],
      [0, 5, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [5, 5, 0, 0],
      [0, 5, 5, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 5, 0, 0],
      [5, 5, 0, 0],
      [5, 0, 0, 0],
    ],
  ],
  // J piece (blue)
  6: [
    [
      [0, 0, 0, 0],
      [6, 0, 0, 0],
      [6, 6, 6, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 6, 6, 0],
      [0, 6, 0, 0],
      [0, 6, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [6, 6, 6, 0],
      [0, 0, 6, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 6, 0, 0],
      [0, 6, 0, 0],
      [6, 6, 0, 0],
    ],
  ],
  // L piece (orange)
  7: [
    [
      [0, 0, 0, 0],
      [0, 0, 7, 0],
      [7, 7, 7, 0],
      [0, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 7, 0, 0],
      [0, 7, 0, 0],
      [0, 7, 7, 0],
    ],
    [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [7, 7, 7, 0],
      [7, 0, 0, 0],
    ],
    [
      [0, 0, 0, 0],
      [7, 7, 0, 0],
      [0, 7, 0, 0],
      [0, 7, 0, 0],
    ],
  ],
};

export const TETROMINO_COLORS: Record<number, string> = {
  0: "#000000", // Empty
  1: "#00FFFF", // I - Cyan
  2: "#FFFF00", // O - Yellow
  3: "#800080", // T - Purple
  4: "#00FF00", // S - Green
  5: "#FF0000", // Z - Red
  6: "#0000FF", // J - Blue
  7: "#FFA500", // L - Orange
};

export function getRandomTetromino(): TetrominoType {
  return (Math.floor(Math.random() * 7) + 1) as TetrominoType;
}
